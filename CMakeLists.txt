# cmake_minimum_required(VERSION <specify CMake version here>)
cmake_minimum_required(VERSION 3.9)
project(amiberry)

# The version number
set (Amiberry_VERSION_MAJOR 2)
set (Amiberry_VERSION_MINOR 13)

# configure a header file to pass some of the CMake settings
# to the source code
configure_file(
        "${PROJECT_SOURCE_DIR}/src/AmiberryConfig.h.in"
        "${PROJECT_BINARY_DIR}/AmiberryConfig.h"
)

# add the binary tree to the search path for include files
# so that we will find AmiberryConfig.h
include_directories("${PROJECT_BINARY_DIR}")

set(CMAKE_CXX_STANDARD 11)

if(CMAKE_BUILD_TYPE MATCHES Debug)
    add_definitions(-DDEBUG=1)
endif()

# Windows
include_directories("C:\\SysGCC\\raspberry\\lib\\gcc\\arm-linux-gnueabihf\\6\\include"
        "C:\\SysGCC\\raspberry\\arm-linux-gnueabihf\\include\\c++\\6"
        "C:\\SysGCC\\raspberry\\arm-linux-gnueabihf\\sysroot\\usr\\include"
        "C:\\SysGCC\\raspberry\\arm-linux-gnueabihf\\sysroot\\usr\\include\\arm-linux-gnueabihf"
        "C:\\SysGCC\\raspberry\\arm-linux-gnueabihf\\sysroot\\usr\\include\\SDL"
        "C:\\SysGCC\\raspberry\\arm-linux-gnueabihf\\sysroot\\usr\\include\\libxml2"
        "C:\\SysGCC\\raspberry\\arm-linux-gnueabihf\\sysroot\\opt\\vc\\include"
        "C:\\SysGCC\\raspberry\\arm-linux-gnueabihf\\sysroot\\opt\\vc\\include\\interface\\vmcs_host\\linux"
        "C:\\SysGCC\\raspberry\\arm-linux-gnueabihf\\sysroot\\opt\\vc\\include\\interface\\vcos\\pthreads")

include_directories(src src/archivers src/include src/osdep src/threaddep)

#find_package(SDL2)
#find_package(SDL2_image)
#find_package(SDL2_ttf)

add_executable(amiberry
        src/akiko.cpp
        src/ar.cpp
        src/aros.rom.cpp
        src/audio.cpp
        src/autoconf.cpp
        src/blitfunc.cpp
        src/blitfunc.h
        src/blittable.cpp
        src/blitter.cpp
        src/blkdev.cpp
        src/blkdev_cdimage.cpp
        src/bsdsocket.cpp
        src/calc.cpp
        src/cd32_fmv.cpp
        src/cd32_fmv_genlock.cpp
        src/cdrom.cpp
        src/cfgfile.cpp
        src/cia.cpp
        src/crc32.cpp
        src/custom.cpp
        src/def_icons.cpp
        src/devices.cpp
        src/disk.cpp
        src/diskutil.cpp
        src/drawing.cpp
        src/events.cpp
        src/expansion.cpp
        src/fdi2raw.cpp
        src/filesys.cpp
        src/flashrom.cpp
        src/fpp.cpp
        src/fsdb.cpp
        src/fsdb_unix.cpp
        src/fsusage.cpp
        src/gayle.cpp
        src/gfxboard.cpp
        src/gfxutil.cpp
        src/hardfile.cpp
        src/hrtmon.rom.cpp
        src/ide.cpp
        src/inputdevice.cpp
        src/keybuf.cpp
        src/main.cpp
        src/memory.cpp
        src/native2amiga.cpp
        src/rommgr.cpp
        src/rtc.cpp
        src/savestate.cpp
        src/scsi.cpp
        src/statusline.cpp
        src/traps.cpp
        src/uaelib.cpp
        src/uaeresource.cpp
        src/zfile.cpp
        src/zfile_archive.cpp
        src/archivers/7z/7zAlloc.cpp
        src/archivers/7z/7zBuf.cpp
        src/archivers/7z/7zBuf2.c
        src/archivers/7z/7zCrc.cpp
        src/archivers/7z/7zCrcOpt.cpp
        src/archivers/7z/7zDec.cpp
        src/archivers/7z/7zFile.c
        src/archivers/7z/7zIn.cpp
        src/archivers/7z/7zStream.cpp
        src/archivers/7z/Alloc.c
        src/archivers/7z/Bcj2.cpp
        src/archivers/7z/Bra.cpp
        src/archivers/7z/Bra86.cpp
        src/archivers/7z/BraIA64.c
        src/archivers/7z/CpuArch.c
        src/archivers/7z/Delta.c
        src/archivers/7z/Lzma2Dec.cpp
        src/archivers/7z/Lzma86Dec.c
        src/archivers/7z/Lzma86Enc.c
        src/archivers/7z/LzmaDec.cpp
        src/archivers/7z/LzmaLib.c
        src/archivers/7z/Ppmd7.c
        src/archivers/7z/Ppmd7Dec.c
        src/archivers/7z/Ppmd7Enc.c
        src/archivers/7z/Sha256.c
        src/archivers/7z/Xz.cpp
        src/archivers/7z/XzCrc64.c
        src/archivers/7z/XzDec.c
        src/archivers/7z/XzIn.c
        src/archivers/dms/crc_csum.cpp
        src/archivers/dms/getbits.cpp
        src/archivers/dms/maketbl.cpp
        src/archivers/dms/pfile.cpp
        src/archivers/dms/tables.cpp
        src/archivers/dms/u_deep.cpp
        src/archivers/dms/u_heavy.cpp
        src/archivers/dms/u_init.cpp
        src/archivers/dms/u_medium.cpp
        src/archivers/dms/u_quick.cpp
        src/archivers/dms/u_rle.cpp
        src/archivers/lha/crcio.cpp
        src/archivers/lha/dhuf.cpp
        src/archivers/lha/header.cpp
        src/archivers/lha/huf.cpp
        src/archivers/lha/larc.cpp
        src/archivers/lha/lhamaketbl.cpp
        src/archivers/lha/lharc.cpp
        src/archivers/lha/shuf.cpp
        src/archivers/lha/slide.cpp
        src/archivers/lha/uae_lha.cpp
        src/archivers/lha/util.cpp
        src/archivers/lzx/unlzx.cpp
        src/archivers/mp2/kjmp2.cpp
        src/archivers/wrp/warp.cpp
        src/archivers/zip/unzip.cpp
        src/machdep/support.cpp
        src/osdep/amiberry.cpp
        src/osdep/amiberry_filesys.cpp
        src/osdep/amiberry_gfx.cpp
        src/osdep/amiberry_gui.cpp
        src/osdep/amiberry_hardfile.cpp
        src/osdep/amiberry_input.cpp
        src/osdep/amiberry_mem.cpp
        src/osdep/amiberry_rp9.cpp
        src/osdep/bsdsocket_host.cpp
        src/osdep/cda_play.cpp
        src/osdep/charset.cpp
        src/osdep/fsdb_host.cpp
        src/osdep/keyboard.cpp
        src/osdep/mp3decoder.cpp
        src/osdep/picasso96.cpp
        src/osdep/sigsegv_handler.cpp
        src/osdep/writelog.cpp
        src/sounddep/sound.cpp

        src/guisan/include/guisan/opengl/openglgraphics.hpp
        src/guisan/include/guisan/opengl/openglimage.hpp
        src/guisan/include/guisan/opengl/openglsdlimageloader.hpp
        src/guisan/include/guisan/sdl/sdlgraphics.hpp
        src/guisan/include/guisan/sdl/sdlimage.hpp
        src/guisan/include/guisan/sdl/sdlimageloader.hpp
        src/guisan/include/guisan/sdl/sdlinput.hpp
        src/guisan/include/guisan/sdl/sdlpixel.hpp
        src/guisan/include/guisan/sdl/sdltruetypefont.hpp
        src/guisan/include/guisan/widgets/button.hpp
        src/guisan/include/guisan/widgets/checkbox.hpp
        src/guisan/include/guisan/widgets/container.hpp
        src/guisan/include/guisan/widgets/dropdown.hpp
        src/guisan/include/guisan/widgets/icon.hpp
        src/guisan/include/guisan/widgets/imagebutton.hpp
        src/guisan/include/guisan/widgets/label.hpp
        src/guisan/include/guisan/widgets/listbox.hpp
        src/guisan/include/guisan/widgets/progressbar.hpp
        src/guisan/include/guisan/widgets/radiobutton.hpp
        src/guisan/include/guisan/widgets/scrollarea.hpp
        src/guisan/include/guisan/widgets/slider.hpp
        src/guisan/include/guisan/widgets/tab.hpp
        src/guisan/include/guisan/widgets/tabbedarea.hpp
        src/guisan/include/guisan/widgets/textbox.hpp
        src/guisan/include/guisan/widgets/textfield.hpp
        src/guisan/include/guisan/widgets/window.hpp
        src/guisan/include/guisan/actionevent.hpp
        src/guisan/include/guisan/actionlistener.hpp
        src/guisan/include/guisan/basiccontainer.hpp
        src/guisan/include/guisan/cliprectangle.hpp
        src/guisan/include/guisan/color.hpp
        src/guisan/include/guisan/deathlistener.hpp
        src/guisan/include/guisan/defaultfont.hpp
        src/guisan/include/guisan/event.hpp
        src/guisan/include/guisan/exception.hpp
        src/guisan/include/guisan/focushandler.hpp
        src/guisan/include/guisan/focuslistener.hpp
        src/guisan/include/guisan/font.hpp
        src/guisan/include/guisan/genericinput.hpp
        src/guisan/include/guisan/glut.hpp
        src/guisan/include/guisan/graphics.hpp
        src/guisan/include/guisan/gui.hpp
        src/guisan/include/guisan/image.hpp
        src/guisan/include/guisan/imagefont.hpp
        src/guisan/include/guisan/imageloader.hpp
        src/guisan/include/guisan/input.hpp
        src/guisan/include/guisan/inputevent.hpp
        src/guisan/include/guisan/key.hpp
        src/guisan/include/guisan/keyevent.hpp
        src/guisan/include/guisan/keyinput.hpp
        src/guisan/include/guisan/keylistener.hpp
        src/guisan/include/guisan/listmodel.hpp
        src/guisan/include/guisan/mouseevent.hpp
        src/guisan/include/guisan/mouseinput.hpp
        src/guisan/include/guisan/mouselistener.hpp
        src/guisan/include/guisan/opengl.hpp
        src/guisan/include/guisan/platform.hpp
        src/guisan/include/guisan/rectangle.hpp
        src/guisan/include/guisan/sdl.hpp
        src/guisan/include/guisan/selectionevent.hpp
        src/guisan/include/guisan/selectionlistener.hpp
        src/guisan/include/guisan/widget.hpp
        src/guisan/include/guisan/widgetlistener.hpp
        src/guisan/include/guisan/x.hpp
        src/guisan/include/guisan.hpp
        src/guisan/src/opengl/opengl.cpp
        src/guisan/src/opengl/openglgraphics.cpp
        src/guisan/src/opengl/openglimage.cpp
        src/guisan/src/sdl/sdl.cpp
        src/guisan/src/sdl/sdlgraphics.cpp
        src/guisan/src/sdl/sdlimage.cpp
        src/guisan/src/sdl/sdlimageloader.cpp
        src/guisan/src/sdl/sdlinput.cpp
        src/guisan/src/sdl/sdltruetypefont.cpp
        src/guisan/src/widgets/button.cpp
        src/guisan/src/widgets/checkbox.cpp
        src/guisan/src/widgets/container.cpp
        src/guisan/src/widgets/dropdown.cpp
        src/guisan/src/widgets/icon.cpp
        src/guisan/src/widgets/imagebutton.cpp
        src/guisan/src/widgets/label.cpp
        src/guisan/src/widgets/listbox.cpp
        src/guisan/src/widgets/progressbar.cpp
        src/guisan/src/widgets/radiobutton.cpp
        src/guisan/src/widgets/scrollarea.cpp
        src/guisan/src/widgets/slider.cpp
        src/guisan/src/widgets/tab.cpp
        src/guisan/src/widgets/tabbedarea.cpp
        src/guisan/src/widgets/textbox.cpp
        src/guisan/src/widgets/textfield.cpp
        src/guisan/src/widgets/window.cpp
        src/guisan/src/actionevent.cpp
        src/guisan/src/basiccontainer.cpp
        src/guisan/src/cliprectangle.cpp
        src/guisan/src/color.cpp
        src/guisan/src/defaultfont.cpp
        src/guisan/src/event.cpp
        src/guisan/src/exception.cpp
        src/guisan/src/focushandler.cpp
        src/guisan/src/font.cpp
        src/guisan/src/genericinput.cpp
        src/guisan/src/graphics.cpp
        src/guisan/src/gui.cpp
        src/guisan/src/guisan.cpp
        src/guisan/src/image.cpp
        src/guisan/src/imagefont.cpp
        src/guisan/src/inputevent.cpp
        src/guisan/src/key.cpp
        src/guisan/src/keyevent.cpp
        src/guisan/src/keyinput.cpp
        src/guisan/src/mouseevent.cpp
        src/guisan/src/mouseinput.cpp
        src/guisan/src/rectangle.cpp
        src/guisan/src/selectionevent.cpp
        src/guisan/src/widget.cpp
        src/osdep/gui/androidsdl_event.cpp
        src/osdep/gui/androidsdl_event.h
        src/osdep/gui/CreateFilesysHardfile.cpp
        src/osdep/gui/EditFilesysHardfile.cpp
        src/osdep/gui/EditFilesysVirtual.cpp
        src/osdep/gui/gui_handling.h
        src/osdep/gui/InGameMessage.cpp
        src/osdep/gui/main_window.cpp
        src/osdep/gui/Navigation.cpp
        src/osdep/gui/PanelAbout.cpp
        src/osdep/gui/PanelChipset.cpp
        src/osdep/gui/PanelConfig.cpp
        src/osdep/gui/PanelCPU.cpp
        src/osdep/gui/PanelCustom.cpp
        src/osdep/gui/PanelDisplay.cpp
        src/osdep/gui/PanelFloppy.cpp
        src/osdep/gui/PanelHD.cpp
        src/osdep/gui/PanelInput.cpp
        src/osdep/gui/PanelMisc.cpp
        src/osdep/gui/PanelOnScreen.cpp
        src/osdep/gui/PanelPaths.cpp
        src/osdep/gui/PanelQuickstart.cpp
        src/osdep/gui/PanelRAM.cpp
        src/osdep/gui/PanelROM.cpp
        src/osdep/gui/PanelSavestate.cpp
        src/osdep/gui/PanelSound.cpp
        src/osdep/gui/sdltruetypefont.cpp
        src/osdep/gui/sdltruetypefont.hpp
        src/osdep/gui/SelectFile.cpp
        src/osdep/gui/SelectFolder.cpp
        src/osdep/gui/SelectorEntry.cpp
        src/osdep/gui/SelectorEntry.hpp
        src/osdep/gui/ShowHelp.cpp
        src/osdep/gui/ShowMessage.cpp
        src/osdep/gui/UaeCheckBox.cpp
        src/osdep/gui/UaeCheckBox.hpp
        src/osdep/gui/UaeDropDown.cpp
        src/osdep/gui/UaeDropDown.hpp
        src/osdep/gui/UaeListBox.cpp
        src/osdep/gui/UaeListBox.hpp
        src/osdep/gui/UaeRadioButton.cpp
        src/osdep/gui/UaeRadioButton.hpp

        src/newcpu.cpp
        src/newcpu_common.cpp
        src/readcpu.cpp
        src/cpudefs.cpp
        src/cpuemu_0.cpp
        src/cpuemu_11.cpp
        src/cpuemu_4.cpp
        src/cpuemu_40.cpp
        src/cpuemu_44.cpp
        src/cpustbl.cpp
        src/jit/compemu.cpp
        src/jit/compemu.h
        src/jit/compemu_fpp.cpp
        src/jit/compemu_support.cpp
        src/jit/compstbl.cpp
        )

target_link_libraries(pthread z png rt xml2 FLAC mpg123 dl mpeg2convert mpeg2 SDL2 SDL2_image SDL2_ttf)